{# 時間軸選択セレクトボックス #}
{% macro interval_select(id, name, required=true, selected_value="1d") %}
<select
    id="{{ id }}"
    name="{{ name }}"
    class="form-control"
    {% if required %}required{% endif %}
>
    <option value="">時間軸を選択してください</option>
    <option value="1m" {% if selected_value == "1m" %}selected{% endif %}>1分足</option>
    <option value="5m" {% if selected_value == "5m" %}selected{% endif %}>5分足</option>
    <option value="15m" {% if selected_value == "15m" %}selected{% endif %}>15分足</option>
    <option value="30m" {% if selected_value == "30m" %}selected{% endif %}>30分足</option>
    <option value="1h" {% if selected_value == "1h" %}selected{% endif %}>1時間足</option>
    <option value="1d" {% if selected_value == "1d" %}selected{% endif %}>1日足</option>
    <option value="1wk" {% if selected_value == "1wk" %}selected{% endif %}>週足</option>
    <option value="1mo" {% if selected_value == "1mo" %}selected{% endif %}>月足</option>
</select>
{% endmacro %}

{# 期間選択セレクトボックス #}
{% macro period_select(id, name, selected_value="1mo") %}
<select
    id="{{ id }}"
    name="{{ name }}"
    class="form-control"
>
    <option value="">デフォルト（1ヶ月）</option>
    <option value="5d" {% if selected_value == "5d" %}selected{% endif %}>5日間</option>
    <option value="1mo" {% if selected_value == "1mo" %}selected{% endif %}>1ヶ月</option>
    <option value="3mo" {% if selected_value == "3mo" %}selected{% endif %}>3ヶ月</option>
    <option value="6mo" {% if selected_value == "6mo" %}selected{% endif %}>6ヶ月</option>
    <option value="1y" {% if selected_value == "1y" %}selected{% endif %}>1年</option>
    <option value="2y" {% if selected_value == "2y" %}selected{% endif %}>2年</option>
    <option value="5y" {% if selected_value == "5y" %}selected{% endif %}>5年</option>
    <option value="max" {% if selected_value == "max" %}selected{% endif %}>最大期間</option>
</select>
{% endmacro %}

{# 市場区分選択セレクトボックス #}
{% macro market_select(id, name, selected_value="") %}
<select
    id="{{ id }}"
    name="{{ name }}"
    class="form-control"
>
    <option value="">全市場</option>
    <option value="プライム" {% if selected_value == "プライム" %}selected{% endif %}>プライム市場のみ</option>
    <option value="スタンダード" {% if selected_value == "スタンダード" %}selected{% endif %}>スタンダード市場のみ</option>
    <option value="グロース" {% if selected_value == "グロース" %}selected{% endif %}>グロース市場のみ</option>
</select>
{% endmacro %}

{# 必須項目インジケーター #}
{% macro required_indicator() %}
<span class="required-indicator" aria-label="必須項目">*</span>
{% endmacro %}

{# プログレスバーコンポーネント #}
{% macro progress_bar(id_prefix) %}
<div class="progress-container mb-3">
    <div class="progress-bar" id="{{ id_prefix }}-progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
        <span class="progress-text" id="{{ id_prefix }}-progress-text">0%</span>
    </div>
</div>
{% endmacro %}

{# 統計表示コンポーネント #}
{% macro progress_stats(id_prefix) %}
<div class="progress-stats mb-3">
    <div class="stat-item">
        <span class="stat-label">処理済:</span>
        <span class="stat-value" id="{{ id_prefix }}-processed">0</span> /
        <span class="stat-value" id="{{ id_prefix }}-total">0</span>
    </div>
    <div class="stat-item">
        <span class="stat-label">成功:</span>
        <span class="stat-value stat-success" id="{{ id_prefix }}-successful">0</span>
    </div>
    <div class="stat-item">
        <span class="stat-label">失敗:</span>
        <span class="stat-value stat-error" id="{{ id_prefix }}-failed">0</span>
    </div>
</div>
{% endmacro %}
