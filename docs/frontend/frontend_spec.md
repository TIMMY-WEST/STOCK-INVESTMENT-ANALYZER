# フロントエンド機能仕様書

## 概要

この文書は、STOCK-INVESTMENT-ANALYZER の Web フロントエンドについて、ユーザー観点とシステム観点の両面から機能面を整理した仕様書です。
主な目的は、プロダクトの主要機能を明確化することです。

## 提供する主要機能

1. 日本株データの DB 格納（データプラットフォーム）
    - 外部データ（現状は yfinance を想定）から下記のデータを取得し、DB に格納する仕組みをバックエンド側で提供することを前提とする
       - 時系列価格（1分足、5分足、15分足、30分足、1時間足、1日足、1週足、1月足）
       - ファンダメンタル（決算指標）：EPS、BPS、売上、営業利益、純利益、ROE、自己資本比率 等の定期（四半期/年度）データ
2. ダッシュボード
   - ポートフォリオ概況、主要指標、最新の市場サマリーを一目で確認
3. 銘柄検索と詳細表示
   - 銘柄コード/名称で検索を実施可能、出力できるデータは以下
     - 時系列ごとの価格情報、株価チャート
     - ファンダメンタル情報の表示
4. 分析ツール
   - 価格データとファンダメンタル情報をもとにしたスクリーニング機能
5. バックテスト（簡易）
   - 過去データによる戦略の検証（期間、初期資金、売買ルールの簡易設定）。多くの計算はバックエンドで実行し、結果をフロントに配信する
6. ユーザー設定と認証
   - ログイン/ログアウト、プロフィール、通知設定、表示設定（テーマ/言語）

## 画面一覧（簡潔）

表に画面の構成と主要機能との関連を示します。
（注）ここでは主要な画面を一覧で示し、各画面の目的・主要機能・主要データを簡潔に記載します。

### 主要画面一覧

以下の表は、各画面の目的・主要機能・取り扱う主要データ、およびプロダクトの主要機能との関連を一目で確認できるようにまとめたものです。

| 画面                           | 目的                                                         | 主要機能                                                                                                                                                 | 主要データ                                                   | 関連主要機能                   |
| ------------------------------ | ------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------ |
| ダッシュボード                 | ポートフォリオ概況、主要指標、最新の市場サマリーを一目で確認 | ポートフォリオサマリ、主要インデックス、最新ニュース、ウィジェットのカスタマイズ、日本株データのDB格納指示ボタン（手動トリガ）およびジョブステータス表示 | ポートフォリオ評価額、保有銘柄一覧、時系列インデックスデータ | ダッシュボード                 |
| 銘柄検索 / 銘柄詳細            | 銘柄を素早く検索し、時系列チャートとファンダメンタルを確認   | コード/名称検索、チャート（複数期間）、指標表示、比較機能、ツールチップ                                                                                  | OHLCV、出来高、財務指標、関連ニュース                        | 銘柄検索と詳細表示、分析ツール |
| スクリーニング（銘柄絞り込み） | 条件指定による銘柄の絞り込み・保存・エクスポート             | 指標選択（PER、PBR、ROE等）、期間指定、複合条件、結果の保存・エクスポート（CSV）                                                                         | 絞込条件、絞込結果リスト                                     | 分析ツール                     |
| バックテスト結果表示           | バックエンドで計算されたバックテスト結果を可視化             | 期間比較、資産曲線、取引ログ、主要評価指標（シャープレシオ等）、ジョブ管理                                                                               | バックテスト結果、取引履歴、パフォーマンス指標               | バックテスト（簡易）           |
| ユーザー設定 / 認証画面        | ログイン/プロフィール管理、表示/通知設定                     | ログイン/ログアウト（OAuth/メール）、プロフィール編集、通知設定、テーマ・言語切替                                                                        | ユーザープロフィール、認証状態、ユーザー設定                 | ユーザー設定と認証             |

(注) 「関連主要機能」列は、本ドキュメント冒頭の「提供する主要機能」セクションに対応しています。

## 非機能要件
以下は本フロントエンドに要求される主要な非機能要件です。

### パフォーマンス
- 初回表示: ダッシュボードの主要パーツは3秒以内に初回表示されること（実装のシニア判断により緩和可）
- インタラクション遅延: UI 操作（ソート、フィルタ）の応答は 200ms 以下を目指す
- チャート描画: 1銘柄のチャート初期描画は 1秒以内を目標

### アクセシビリティ
- WCAG 2.1 AA レベルを目指す（キーボード操作、色コントラスト、スクリーンリーダ対応）

### モバイル対応 / レスポンシブ
- スマートフォン（幅360px）からデスクトップ（幅1920px）までの主要画面はレスポンシブに表示されること

### ロギング / 監視
- UI 操作や主要エラーはクライアント側でイベントログを収集し、稼働監視・障害解析に活用する

---

作成者: 自動生成
作成日: 2025-11-15
