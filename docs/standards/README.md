# 開発標準・規約

株価投資分析システムの開発における標準仕様と規約に関するドキュメント集です。

## 📚 ドキュメント一覧

### コーディング規約

#### [コーディング規約](./coding-standards.md) 📝
**対象**: 開発者全員

Pythonコーディングの標準規約とベストプラクティスです。

**含まれる内容:**
- PEP 8準拠のコーディングスタイル
- 命名規則（変数、関数、クラス）
- Docstring記述ルール
- インポート順序とグルーピング
- エラーハンドリングの方針

**こんな時に使用:**
- 新規コード作成時の規約確認
- コードレビュー時の基準確認
- リファクタリング時の品質基準

---

### Git運用

#### [Git運用ワークフロー](./git-workflow.md) 🔀
**対象**: 開発者全員、プロジェクトマネージャー

Gitブランチ戦略とPR運用の標準ワークフローです。

**含まれる内容:**
- ブランチ戦略（feature/fix/refactor等）
- ブランチ命名規則
- Conventional Commits規約
- PR作成とレビュープロセス
- Squash and Mergeルール

**こんな時に使用:**
- 新しいブランチを作成する前
- コミットメッセージを書く時
- PRを作成・レビューする時
- マージ方針を確認したい時

---

### テスト標準

#### [テスト標準仕様書](./testing-standards.md) ✅
**対象**: 開発者全員

テスト戦略、ベストプラクティス、カバレッジ目標の完全ガイドです。

**含まれる内容:**
- テスト戦略（Unit/Integration/E2E）
- AAA（Arrange-Act-Assert）パターン
- pytest設定とマーカー使用方法
- カバレッジ目標（70%以上）
- 現在のカバレッジ状況（69%、107テスト）
- モッキング戦略
- テストデータ管理

**こんな時に使用:**
- 新しいテストを作成する時
- テストの書き方を確認したい時
- カバレッジ向上の方針を確認したい時
- pytest実行方法を確認したい時

---

### フロントエンド規約

#### [CSS BEM方法論](./CSS_BEM_METHODOLOGY.md) 🎨
**対象**: フロントエンド開発者

CSS命名規則としてBEM（Block Element Modifier）方法論の実装ガイドです。

**含まれる内容:**
- BEM命名規則の基礎
- Block/Element/Modifierの定義
- 実装されたBEMクラス一覧
- ステータスコンポーネント、フォーム、ボタンの例
- 命名パターンとベストプラクティス
- リファクタリング例

**こんな時に使用:**
- 新しいCSSクラスを作成する時
- CSS命名規則を確認したい時
- フロントエンドのコード品質を向上させたい時
- 既存CSSをリファクタリングする時

---

#### [フロントエンド開発ガイド](./frontend_guide.md) 🌐
**対象**: フロントエンド開発者

HTML、CSS、JavaScriptの総合的な開発ガイドです。

**含まれる内容:**
- HTML/CSS/JavaScript開発規約
- BEM方法論の実践
- Bootstrap・DataTablesの活用
- Chart.jsによるグラフ表示
- コンポーネント設計パターン
- パフォーマンス最適化

**こんな時に使用:**
- フロントエンド実装を始める時
- UIコンポーネントを作成する時
- JavaScript機能を追加する時
- フロントエンドコードをレビューする時

---

### Python開発規約

#### [例外処理ガイド](./exception_handling.md) 🚨
**対象**: バックエンド開発者

カスタム例外クラスとエラーハンドリングの標準仕様です。

**含まれる内容:**
- カスタム例外クラスの実装
- 例外階層の設計
- エラーハンドリングパターン
- ログ記録のベストプラクティス
- エラーレスポンス形式

**こんな時に使用:**
- 新しいカスタム例外を作成する時
- エラーハンドリングを実装する時
- 例外設計を確認したい時
- エラーログの記録方法を確認する時

---

#### [型ヒントガイド](./type_hints_guide.md) 📐
**対象**: Python開発者全員

型ヒントとmypyによる型チェックの実装ガイドです。

**含まれる内容:**
- 型ヒントの基本文法
- mypy設定とオプション
- 型エイリアスとジェネリクス
- Optional・Unionの使用方法
- 型チェックのベストプラクティス

**こんな時に使用:**
- 新しい関数に型ヒントを追加する時
- mypy エラーを解決する時
- 型安全性を向上させたい時
- 型定義の方法を確認する時

---

## 🗺️ 開発フロー別参照ガイド

### 新機能開発時

1. **[Git運用ワークフロー](./git-workflow.md)** - ブランチ作成とコミット規約
2. **[コーディング規約](./coding-standards.md)** - 実装時のコーディングスタイル
3. **[テスト標準仕様書](./testing-standards.md)** - テストコード作成

### コードレビュー時

- **[コーディング規約](./coding-standards.md)** - スタイルとベストプラクティス確認
- **[テスト標準仕様書](./testing-standards.md)** - テストカバレッジと品質確認
- **[Git運用ワークフロー](./git-workflow.md)** - コミットメッセージとPR形式確認

### リファクタリング時

- **[コーディング規約](./coding-standards.md)** - コード品質向上の基準
- **[テスト標準仕様書](./testing-standards.md)** - リグレッション防止のテスト戦略
- **[Git運用ワークフロー](./git-workflow.md)** - refactorコミットの規約

---

## 🎯 品質基準サマリー

### コード品質
- **スタイル**: PEP 8準拠、行長79文字以内
- **Linter**: Flake8エラーゼロ
- **型チェック**: Mypy対応（主要関数に型ヒント）
- **フォーマッター**: Black + isort使用

### テスト品質
- **カバレッジ目標**: 70%以上（現在69%）
- **テスト数**: 107テスト（全合格）
- **テストマーカー**: unit/integration/e2e/slow/docs
- **実行方法**: `pytest -v` または `pytest -m <marker>`

### Git運用
- **コミット規約**: Conventional Commits
- **ブランチ命名**: `<type>/<scope>-<description>`
- **マージ方式**: Squash and Merge
- **レビュー**: 最低1名承認必須

---

## 🔗 関連ドキュメント

### 開発ガイド
- [開発ワークフロー](../guides/development-workflow.md) - Issue→Deploy全工程
- [トラブルシューティング](../guides/troubleshooting.md) - 問題解決ガイド
- [セットアップガイド](../guides/setup_guide.md) - 開発環境構築

### CI/CD
- [パイプライン設定ガイド](../ci-cd/pipeline-config.md) - GitHub Actions・Pre-commit設定

### アーキテクチャ
- [アーキテクチャ概要](../architecture/architecture_overview.md) - システム全体像
- [コーディング規約詳細](../architecture/architecture_overview.md#技術スタック) - 技術スタック確認

---

## 📝 ドキュメント更新履歴

### 2025-11-02
- ✅ テスト標準仕様書を統合作成（v3.0.0）
  - `testing_guide.md`, `testing_strategy.md`, `test_coverage_report.md` を統合
- ✅ 新しいディレクトリ構造（standards/）を導入
- ✅ 各標準ドキュメントを最新の実装状況に更新

### 過去の更新
- 2025-10-25: テスト戦略v2.0.0リリース
- 2025-10-22: コーディング規約初版作成

---

## ❓ よくある質問

### Q: どのドキュメントから読めばいいですか？

**A:** 開発状況に応じて以下を選択してください：
- **開発を始める前** → [Git運用ワークフロー](./git-workflow.md)
- **コードを書く時** → [コーディング規約](./coding-standards.md)
- **テストを書く時** → [テスト標準仕様書](./testing-standards.md)

### Q: Pre-commitフックは必須ですか？

**A:** はい、推奨です。Black、isort、flake8を自動実行してコード品質を保ちます。設定方法は [パイプライン設定ガイド](../ci-cd/pipeline-config.md) を参照してください。

### Q: テストカバレッジが70%未満でもPRできますか？

**A:** 可能ですが、既存のカバレッジを下げないことが条件です。新機能には必ずテストを追加してください。詳細は [テスト標準仕様書](./testing-standards.md) を参照してください。

### Q: コミットメッセージの書き方がわかりません

**A:** [Git運用ワークフロー](./git-workflow.md) の「Conventional Commits規約」セクションを参照してください。`feat(api): 新機能の追加` のような形式で書きます。

---

## 🚀 クイックスタート

### 開発環境セットアップ後の確認

```bash
# コードフォーマット確認
black . --check
isort . --check-only

# Linter実行
flake8 .

# テスト実行
pytest -v

# カバレッジ確認
pytest --cov=app --cov-report=term-missing
```

すべてパスすれば、標準に準拠しています！

---

## 📬 フィードバック

標準や規約に関する改善提案は、GitHubのIssueまたはPull Requestでお願いします。

---

**最終更新**: 2025-11-02
