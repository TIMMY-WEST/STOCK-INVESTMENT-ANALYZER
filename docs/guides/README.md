# 運用・開発ガイド

株価投資分析システムの開発と運用に関する実践的なガイド集です。

## 📚 ドキュメント一覧

### セットアップ・環境構築

#### [セットアップガイド](./setup_guide.md) 🏁
**対象**: 新規参加者、開発者全員

開発環境の構築手順を説明するドキュメントです。

**含まれる内容:**
- 必要な前提環境（Python 3.11、PostgreSQL 14等）
- プロジェクトのクローンとセットアップ
- 依存パッケージのインストール
- 環境変数の設定
- データベースの初期化
- 動作確認方法

**こんな時に使用:**
- プロジェクトに初めて参加する時
- 新しい開発環境を構築する時
- 環境のトラブルシューティング
---
#### [データベースセットアップ](./DATABASE_SETUP.md) 🗄️
**対象**: バックエンド開発者、インフラ担当

PostgreSQLデータベースの構築と設定を説明するドキュメントです。

**含まれる内容:**
- PostgreSQLのインストール
- データベースとユーザーの作成
- 接続設定
- マイグレーション実行
- トラブルシューティング

**こんな時に使用:**
- データベース環境を新規構築する時
- 接続エラーが発生した時
- データベース設定を確認したい時
---
### 開発プロセス

#### [開発ワークフロー](./development-workflow.md) 🔄
**対象**: 開発者全員、プロジェクトマネージャー

Issue作成からデプロイまでの完全な開発サイクルを説明するドキュメントです。

**含まれる内容:**
- Issue作成とテンプレート
- ブランチ作成とコミット規約
- テスト実行とカバレッジ確認
- PRレビュープロセス
- マージとデプロイ手順
- リリースノート作成

**こんな時に使用:**
- 開発フローを理解したい時
- PR作成前の確認事項をチェックしたい時
- レビュー基準を確認したい時
---
### トラブルシューティング

#### [トラブルシューティングガイド](./troubleshooting.md) 🔧
**対象**: 開発者全員

よくある問題とその解決方法をまとめたドキュメントです。

**含まれる内容:**
- 開発環境のエラー対応
- テスト実行エラーの解決
- CI/CDパイプラインのトラブルシューティング
- データベース接続エラー
- API実行エラー
- デバッグテクニック
- FAQ

**こんな時に使用:**
- エラーが発生した時
- 問題の解決方法を探している時
- デバッグ方法を確認したい時
---
### 開発ツール

#### [フォーマッタ・リンタガイド](./formatter_linter_guide.md) 🔍
**対象**: 開発者全員

Black、isort、flake8などのコード品質ツールの使用方法です。

**含まれる内容:**
- Black（フォーマッタ）の使用方法
- isort（インポート整理）の設定
- flake8（Linter）のルール
- ツールの自動実行設定
- エラー解決方法

**こんな時に使用:**
- コードフォーマットを整えたい時
- Linterエラーを解決する時
- 自動フォーマット設定を確認したい時
- コード品質を向上させたい時
---
### 運用・保守

#### [パフォーマンス最適化ガイド](./performance_optimization_guide.md) ⚡
**対象**: バックエンド開発者、パフォーマンス担当

システムのパフォーマンス改善手法を説明するドキュメントです。

**含まれる内容:**
- データベースクエリの最適化
- インデックス戦略
- キャッシング実装
- 並列処理の活用
- API レスポンス時間の改善

**こんな時に使用:**
- パフォーマンス問題が発生した時
- システムを最適化したい時
- ベストプラクティスを確認したい時
---
#### [バックアップ手順](./backup_procedures.md) 💾
**対象**: インフラ担当、データベース管理者

データベースのバックアップとリストア手順を説明するドキュメントです。

**含まれる内容:**
- バックアップ方針
- 定期バックアップの設定
- 手動バックアップの実行
- データのリストア手順
- バックアップの検証

**こんな時に使用:**
- バックアップ設定を行う時
- データをリストアする必要がある時
- バックアップ戦略を確認したい時
---
### 機能別ガイド

#### [全銘柄一括取得システム](./bulk-data-fetch.md) 📊
**対象**: バックエンド開発者、運用担当

全銘柄の株価データを効率的に一括取得するシステムの完全ガイドです。

**含まれる内容:**
- システム概要と主要機能
- API仕様（バルクデータ取得エンドポイント）
- システム設計とアーキテクチャ
- 実装ガイドと使用例
- 運用ガイドとベストプラクティス
- 将来拡張計画

**こんな時に使用:**
- 全銘柄データを一括で取得したい時
- バルクAPI実装を理解したい時
- システムのパフォーマンスを最適化したい時
---
#### [JPX全銘柄順次取得システム](./jpx-sequential-fetch.md) 🔄
**対象**: バックエンド開発者、運用担当

JPX全銘柄の8種類時間軸データを自動取得するシステムの完全ガイドです。

**含まれる内容:**
- システム概要と機能の特徴
- 8種類時間軸の詳細（1m/5m/15m/1h/1d/1wk/1mo/3mo）
- API仕様とWebSocket通知
- JPX連携仕様
- 自動取得フローと運用ガイド
- トラブルシューティング

**こんな時に使用:**
- JPX全銘柄データを取得したい時
- 複数時間軸データを一括処理したい時
- WebSocketによる進捗監視を実装したい時
---
#### [システム監視・ログ機能](./monitoring-guide.md) 📈
**対象**: 運用担当、DevOps、開発者全員

システムの監視、ログ、メトリクス収集の完全ガイドです。

**含まれる内容:**
- 構造化ログ（JSON形式）
- メトリクス収集とパフォーマンス計測
- システム監視機能
- ログ分析と使用例
- トラブルシューティング
- 運用考慮事項

**こんな時に使用:**
- システムの動作状況を監視したい時
- パフォーマンス問題を分析したい時
- ログからエラー原因を調査したい時
- 運用メトリクスを確認したい時
---
## 🗺️ 目的別ナビゲーション

### 新規参加者向け

1. **[セットアップガイド](./setup_guide.md)** - 開発環境を構築
2. **[データベースセットアップ](./DATABASE_SETUP.md)** - DBを設定
3. **[開発ワークフロー](./development-workflow.md)** - 開発フローを理解
4. 実装開始！

### 日常的な開発作業

- **Issue作成** → [開発ワークフロー](./development-workflow.md)
- **コード実装** → [開発ワークフロー](./development-workflow.md) + [標準規約](../standards/)
- **PR作成** → [開発ワークフロー](./development-workflow.md)
- **エラー対応** → [トラブルシューティング](./troubleshooting.md)

### システム運用・保守

- **パフォーマンス改善** → [パフォーマンス最適化ガイド](./performance_optimization_guide.md)
- **バックアップ管理** → [バックアップ手順](./backup_procedures.md)
- **環境トラブル** → [トラブルシューティング](./troubleshooting.md)
---
## 🔗 関連ドキュメント

### 標準規約
- [テスト標準仕様書](../standards/testing-standards.md) - テスト戦略とカバレッジ
- [コーディング規約](../standards/coding-standards.md) - コーディングスタイル
- [Git運用ワークフロー](../standards/git-workflow.md) - ブランチ戦略とコミット規約

### CI/CD
- [パイプライン設定ガイド](../ci-cd/pipeline-config.md) - GitHub Actions・Pre-commit設定

### アーキテクチャ
- [アーキテクチャ概要](../architecture/architecture_overview.md) - システム全体像
- [データベース設計](../architecture/database_design.md) - DBスキーマ詳細

### API仕様
- [APIドキュメント](../api/README.md) - API仕様と使用例
---
## 🎯 開発サイクル概要

```
1. Issue作成 (GitHub)
   ↓
2. ブランチ作成 (feature/fix/refactor)
   ↓
3. 実装 + テスト作成
   ↓
4. コミット (Conventional Commits)
   ↓
5. PR作成・レビュー
   ↓
6. Squash and Merge
   ↓
7. デプロイ (main/develop)
```

詳細は [開発ワークフロー](./development-workflow.md) を参照してください。
---
## 🚀 クイックスタート

### 初回セットアップ（所要時間: 30分）

```bash
# 1. リポジトリクローン
git clone https://github.com/TIMMY-WEST/STOCK-INVESTMENT-ANALYZER.git
cd STOCK-INVESTMENT-ANALYZER

# 2. 仮想環境作成
python -m venv venv
.\venv\Scripts\activate  # Windows
# source venv/bin/activate  # Mac/Linux

# 3. 依存パッケージインストール
pip install -r requirements.txt
pip install -r requirements-dev.txt

# 4. 環境変数設定
copy .env.example .env  # Windows
# cp .env.example .env  # Mac/Linux
# .envファイルを編集してDB接続情報を設定

# 5. データベース初期化
# PostgreSQLを起動してから実行
flask db upgrade

# 6. 動作確認
pytest -v
flask run
```

詳細は [セットアップガイド](./setup_guide.md) を参照してください。
---
## 📝 ドキュメント更新履歴

### 2025-11-02
- ✅ 新しいディレクトリ構造（guides/）を導入
- ✅ 開発ワークフローを新規作成（v2.0.0）
- ✅ トラブルシューティングガイドを統合作成（v2.0.0）
- ✅ ナビゲーションREADMEを追加

### 過去の更新
- 2025-10-25: セットアップガイド更新
- 2025-10-20: データベースセットアップ追加
---
## ❓ よくある質問

### Q: どのガイドから読めばいいですか？

**A:** 状況に応じて以下を選択してください：
- **初めてプロジェクトに参加** → [セットアップガイド](./setup_guide.md)
- **開発フローを知りたい** → [開発ワークフロー](./development-workflow.md)
- **エラーが発生した** → [トラブルシューティング](./troubleshooting.md)

### Q: 開発環境のセットアップに失敗します

**A:** [トラブルシューティング](./troubleshooting.md) の「開発環境エラー」セクションを確認してください。それでも解決しない場合は、GitHubのIssueで質問してください。

### Q: PRを作成する前に何を確認すればいいですか？

**A:** [開発ワークフロー](./development-workflow.md) の「PR作成前チェックリスト」を確認してください。主に以下を確認します：
- テストが全て通過
- カバレッジが70%以上
- Linterエラーがゼロ
- コミットメッセージが規約に準拠

### Q: システムが遅いです。どう改善すればいいですか？

**A:** [パフォーマンス最適化ガイド](./performance_optimization_guide.md) を参照してください。データベースクエリの最適化、インデックス追加、キャッシング実装などの手法が記載されています。
---
## 🐛 問題が発生した場合

1. **[トラブルシューティング](./troubleshooting.md)** で該当するエラーを検索
2. **関連ドキュメント**で詳細を確認
3. それでも解決しない場合は **GitHubのIssue** で質問
---
## 📬 フィードバック

ガイドの改善提案やバグ報告は、GitHubのIssueまたはPull Requestでお願いします。
---
**最終更新**: 2025-11-02
