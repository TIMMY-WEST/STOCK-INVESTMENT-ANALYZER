# アーキテクチャドキュメント

株価データ取得システムのアーキテクチャに関するドキュメント集です。

## 📚 ドキュメント一覧

### 全体像・概要

#### [アーキテクチャ概要](./architecture_overview.md) 🎯
**対象**: 開発者全員、新規参加者

システム全体のアーキテクチャと技術スタックを理解するためのドキュメントです。

**含まれる内容:**
- システム全体像とレイヤー構造
- 主要コンポーネントとその役割
- 技術スタック（実装済み）
- プロジェクトディレクトリ構成

**こんな時に使用:**
- プロジェクトの全体像を把握したい
- 技術スタックを確認したい
- システム構成を理解したい
---
### 詳細設計

#### [コンポーネント依存関係](./component_dependency.md)
**対象**: バックエンド開発者

各コンポーネント間の依存関係を理解するためのドキュメントです。

**含まれる内容:**
- サービス間の依存関係図
- レイヤー間の依存ルール
- モジュール依存マトリクス
- 循環依存の管理方針

**こんな時に使用:**
- 新しいサービスを追加する前に依存関係を確認したい
- リファクタリング時の影響範囲を把握したい
- 依存関係の健全性をチェックしたい
---
#### [サービス責任分掌](./service_responsibilities.md)
**対象**: バックエンド開発者

各サービスの役割と責任範囲を明確にするドキュメントです。

**含まれる内容:**
- 全サービスの責任範囲一覧
- サービス分類（データ取得、保存、オーケストレーション等）
- 主要メソッドの説明
- 重複機能の洗い出し

**こんな時に使用:**
- 機能をどのサービスに実装すべきか判断したい
- サービスの役割を確認したい
- コードの重複を見つけたい
---
#### [データフロー](./data_flow.md)
**対象**: バックエンド開発者、システム設計者

システム内のデータの流れを理解するためのドキュメントです。

**含まれる内容:**
- データフロー全体図
- 主要処理フロー（単一銘柄取得、バルク取得等）
- データ変換処理
- エラー処理フロー
- WebSocket進捗配信フロー

**こんな時に使用:**
- データの流れを追跡したい
- 新機能の処理フローを設計したい
- エラーハンドリングの仕組みを理解したい
---
#### [データベース設計](./database_design.md)
**対象**: バックエンド開発者、データベース管理者

データベーススキーマと設計方針を理解するためのドキュメントです。

**含まれる内容:**
- 11テーブルの詳細設計（8種類の株価テーブル + 3種類の管理テーブル）
- カラム定義と制約
- インデックス設計
- SQLAlchemyモデル定義

**こんな時に使用:**
- テーブル構造を確認したい
- 新しいカラムやテーブルを追加したい
- パフォーマンス最適化のためインデックスを見直したい
---
#### [フロントエンド設計](./frontend_design.md)
**対象**: フロントエンド開発者、UI/UX設計者

フロントエンドの設計方針と実装を理解するためのドキュメントです。

**含まれる内容:**
- UI/UX設計方針
- 画面構成とコンポーネント
- 状態管理方式
- データ表示・フォーム設計
- CSS設計（BEM記法）

**こんな時に使用:**
- UI実装の方針を確認したい
- 新しいUIコンポーネントを追加したい
- フロントエンドのコーディング規約を確認したい
---
## 🗺️ ドキュメントナビゲーション

### 新規参加者向けの推奨読み順

1. **[アーキテクチャ概要](./architecture_overview.md)** - まずシステム全体像を把握
2. **[データフロー](./data_flow.md)** - データの流れを理解
3. **[コンポーネント依存関係](./component_dependency.md)** - 各部品の関係を理解
4. 実装予定の領域に応じて詳細ドキュメントへ

### バックエンド開発者向け

- システム理解: [アーキテクチャ概要](./architecture_overview.md)
- サービス実装: [サービス責任分掌](./service_responsibilities.md)
- データ処理: [データフロー](./data_flow.md)
- DB操作: [データベース設計](./database_design.md)

### フロントエンド開発者向け

- システム理解: [アーキテクチャ概要](./architecture_overview.md)
- UI実装: [フロントエンド設計](./frontend_design.md)
- データ連携: [データフロー](./data_flow.md)
---
## 🔗 関連ドキュメント

### API仕様
- [APIドキュメント](../api/README.md) - API仕様と使用例
- [APIリファレンス](../api/api_reference.md) - 全エンドポイント詳細
- [API使用例ガイド](../api/api_usage_guide.md) - 実践的なサンプルコード

### 開発ガイド
- [セットアップガイド](../guides/setup_guide.md) - セットアップと開発手順
- [テスト標準仕様書](../standards/testing-standards.md) - テスト戦略とテストコード
---
## 📝 ドキュメント更新履歴

### 2025-01-02
- ✅ ドキュメント構成を整理・統合
- ✅ `architecture_overview.md` を新規作成（`project_architecture.md` と `system_overview.md` を統合）
- ✅ 全ドキュメントを現在の実装状況に更新（8時間軸実装済み、サービスモジュール化反映）
- ✅ `api_endpoints_overview.md` を削除（`docs/api/api_reference.md` に統合済み）
- ✅ ナビゲーションガイド（本README）を追加

### 2025-10-25
- プロジェクト全体アーキテクチャを初期作成
---
## ❓ よくある質問

### Q: どのドキュメントから読めばいいですか？

**A:** 目的に応じて以下を選択してください：
- **全体像を把握したい** → [アーキテクチャ概要](./architecture_overview.md)
- **データの流れを理解したい** → [データフロー](./data_flow.md)
- **サービスの役割を知りたい** → [サービス責任分掌](./service_responsibilities.md)
- **DBスキーマを確認したい** → [データベース設計](./database_design.md)

### Q: 新機能を追加する際、どのドキュメントを参照すべきですか？

**A:** 以下の順序で確認してください：
1. [サービス責任分掌](./service_responsibilities.md) - どのサービスに実装すべきか確認
2. [コンポーネント依存関係](./component_dependency.md) - 依存関係への影響を確認
3. [データフロー](./data_flow.md) - データ処理フローを設計

### Q: アーキテクチャドキュメントとAPI仕様書の違いは？

**A:**
- **アーキテクチャドキュメント（ここ）**: システムの内部構造、設計方針、実装詳細
- **API仕様書（`docs/api/`）**: 外部から利用するAPIの使い方、エンドポイント、パラメータ

開発者は両方を参照し、API利用者はAPI仕様書のみを参照します。
---
**最終更新**: 2025-01-02
